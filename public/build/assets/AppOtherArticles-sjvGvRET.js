import{A as r}from"./AppLayout-BImsDSli.js";import{B as o}from"./BreadCrumbs-BH02ZRtw.js";import l from"./AddOtherArticle-D6jJjUlb.js";import{n as d}from"./_plugin-vue2_normalizer-p4i_2SC9.js";import"./SettingsDropdown-D9hkqat8.js";import"./app-BzUSuKBB.js";import"./logo-Cxn_AZdb.js";const n={components:{AddOtherArticle:l,AppLayout:r,BreadCrumbs:o},data:()=>({dialog2:!1,notifications:!1,sound:!0,widgets:!1,viewDocument:!1,dialog:!1,headers:[{text:"Id",align:"left",sortable:!1,value:"id"},{text:"Titulo",value:"title"},{text:"Descripción",value:"description"},{text:"Accion",align:"left",sortable:!1,value:"action"}],items:[{text:"Dashboard",disabled:!1,href:"/dashboard"},{text:"Artículos",disabled:!1,href:"/dashboard/articles"},{text:"Otros Artículos",disabled:!0,href:"#"}],othersArticles:[],editedIndex:-1,editedItem:{id:"",title:"",description:"",file:null},defaultItem:{id:"",title:"",description:"",file:null},search:""}),computed:{formTitle(){return this.editedIndex===-1?"Nuevo Item":"Editar Item"}},mounted(){this.initialize()},methods:{initialize(){this.othersArticles=[{id:"0",title:"Ejemplo de otro articulo",description:"Este es el ejemplo de otro articulo",file:"",created_at:"2019-10-11 03:09:46",updated_at:"2019-10-11 03:09:46"}],axios.get("/othersArticle/all").then(s=>{console.log("hasta aqui esta todo bien",s),this.othersArticles=this.othersArticles.concat(s.data)}).catch(s=>{console.log(s)})},editItem(s){console.log("this is item: ",s),this.editedIndex=this.othersArticles.indexOf(s),console.log(this.editedIndex),this.editedItem=Object.assign({},s),console.log(this.editedItem),this.dialog=!0},deleteItem(s){const t=this.othersArticles.indexOf(s);this.$swal({title:"Estás seguro?",html:`Eliminar <b>${s.title}</b>, No podrás revertir esto!`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#424242",cancelButtonColor:"#d33",confirmButtonText:"Si, Eliminar!"}).then(e=>{console.log("item.id",s.id),e.value&&axios.delete(`/articles/others/${s.id}`).then(i=>{this.$swal("Eliminado!","Eliminado correctamente.","success"),this.othersArticles.splice(t,1)}).catch(i=>{this.$swal("Oops...","Algo salió mal! "+i,"error")})})}}};var c=function(){var t=this,e=t._self._c;return e("app-layout",[e("bread-crumbs",{attrs:{name:"Gestión de Otros Artículos ",items:t.items}}),e("v-container",{attrs:{fluid:""}},[e("v-row",{staticClass:"ma-0"},[e("v-card",{staticClass:"ma-1",staticStyle:{width:"100%"}},[e("v-card-text",{},[e("v-row",{staticClass:"no-gutters"},[e("div",{staticClass:"d-flex justify-space-between justify-md-start col-md-6 col-12"},[e("v-btn",{staticClass:"mr-3 success",on:{click:function(i){t.dialog=!t.dialog}}},[e("v-icon",{staticClass:"notranslate mr-2"},[t._v(" mdi-plus ")]),t._v(" Add ")],1),e("v-btn",{staticClass:"button-shadow primary--text",attrs:{outlined:""}},[e("v-icon",{staticClass:"notranslate mr-2",attrs:{"aria-hidden":"true"}},[t._v(" mdi-filter-variant ")]),t._v(" Filters ")],1)],1),e("v-spacer"),e("div",{staticClass:"mx-auto mt-4 mt-md-0",staticStyle:{"max-width":"250px"}},[e("v-text-field",{attrs:{"hide-details":"",dense:"",enclosed:"",outlined:"","append-icon":"mdi-magnify",placeholder:"search"},model:{value:t.search,callback:function(i){t.search=i},expression:"search"}})],1)],1)],1)],1)],1),e("v-row",{staticClass:"ma-0"},[e("v-card",{staticClass:"ma-1",staticStyle:{width:"100%"}},[e("v-card-text",{},[e("v-data-table",{attrs:{search:t.search,headers:t.headers,items:t.othersArticles},scopedSlots:t._u([{key:"item.action",fn:function({item:i}){return[e("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editItem(i)}}},[t._v(" mdi-pencil ")]),e("v-icon",{attrs:{small:""},on:{click:function(a){return t.deleteItem(i)}}},[t._v(" mdi-delete ")])]}},{key:"no-data",fn:function(){return[e("v-btn",{attrs:{color:"primary"},on:{click:t.initialize}},[t._v("Reset")])]},proxy:!0}])})],1)],1)],1),e("v-row",{attrs:{justify:"center"}},[e("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:t.dialog,callback:function(i){t.dialog=i},expression:"dialog"}},[e("v-card",[e("add-other-article",{attrs:{formTitle:t.formTitle,editedItem:t.editedItem,editedIndex:t.editedIndex,idItem:t.othersArticles[t.editedIndex]},on:{updateArrayOfOthersArticles:function(i){return Object.assign(t.othersArticles[t.index],i)},addOthersArticles:function(i){return t.othersArticles.push(i)},closeDialog:function(i){t.dialog=i},editedItem:function(i){t.editedItem=i},editedIndex:function(i){t.editedIndex=i}}})],1)],1)],1)],1)],1)},m=[],u=d(n,c,m,!1,null,null);const b=u.exports;export{b as default};
