import{n as r}from"./_plugin-vue2_normalizer-p4i_2SC9.js";const o={data:()=>({menu:!1,dialog:!1,headers:[{text:"Id",align:"left",sortable:!1,value:"id"},{text:"Titulo",value:"title"},{text:"Entidad",value:"entity"},{text:"A침o",value:"year"},{text:"Descripci칩n",value:"description"},{text:"Estado",value:"state"},{text:"Accion",align:"left",sortable:!1,value:"action"}],items:[{text:"Dashboard",disabled:!1,href:"/dashboard"},{text:"Proyectos",disabled:!1,href:"/dashboard/project"},{text:"Software Desarrollados",disabled:!0,href:"/dashboard/project/software"}],softwares:[],editedIndex:-1,editedItem:{id:"",title:"",description:"",year:"",entity:"",state:""},defaultItem:{id:"",title:"",description:"",year:"",entity:"",state:""},search:"",valid:!0,titleRules:[i=>!!i||"Titulo es requirido"],yearRules:[i=>!!i||"A침o es requerido"],entityRules:[i=>!!i||"Entidad promotora es requerida"],descriptionRules:[i=>!!i||"Descripci칩n es requerida"],stateRules:[i=>!!i||"Estado  es requerido"],states:["Abierto","Cerrado","Terminado"],lazy:!1}),computed:{formTitle(){return this.editedIndex===-1?"Nuevo Item":"Editar Item"}},watch:{dialog(i){i||this.close()}},mounted(){this.initialize()},methods:{initialize(){this.softwares=[{id:0,title:`
                            DISE칌O E IMPLEMENTACI칍N DE UN SOFTWARE DE GESTI칍N PARA EL MANEJO DE CITAS M칄DICAS E HISTORIAS CL칈NICAS EN
                            EL CONSULTORIO ESPECIALIZADO DEL DOCTOR HERN츼N AUGUSTO APONTE PENSO EN LA CIUDAD DE VALLEDUPAR.
                        `,description:`
                            Software para el sector salud, dirigido al Consultorio Particular de Neumolog칤a del Dr. Hern치n Augusto Aponte Penso que permite
                            administrar citas m칠dicas y manejo de la historia cl칤nica de pacientes. Desarrollado en lenguaje php y con el manejador de base
                            de datos MySQL, que es un sistema de gesti칩n de bases de datos relacional desarrollado bajo una Licencia p칰blica general y una
                            Licencia comercial por Oracle Corporation.
                        `,created_at:"2019-10-11 03:09:46",updated_at:"2019-10-11 03:09:46",year:"2016-01",entity:"Fundaci칩n Universitaria San Mart칤n.",state:"terminado"}],this.axios.get("/api/software").then(i=>{this.softwares=this.softwares.concat(i.data)}).catch(i=>{console.log(i)})},editItem(i){this.editedIndex=this.softwares.indexOf(i),this.editedItem=Object.assign({},i),this.dialog=!0},deleteItem(i){const e=this.softwares.indexOf(i);Swal.fire({title:"Est치s seguro?",html:`Eliminar <b>${i.title}</b>, No podr치s revertir esto!`,type:"warning",showCancelButton:!0,confirmButtonColor:"#424242",cancelButtonColor:"#d33",confirmButtonText:"Si, Eliminar!"}).then(t=>{console.log("item.id",i.id),t.value&&axios.delete(`/api/software/${i.id}`).then(a=>{Swal.fire("Eliminado!","Eliminado correctamente.","success"),this.softwares.splice(e,1)}).catch(a=>{Swal.fire("Oops...","Algo sali칩 mal!"+a,"error")})})},close(){this.dialog=!1,setTimeout(()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1},300)},save(){if(this.validate())if(this.editedIndex>-1)this.edit();else{const i=this.editedItem;axios.post("/api/software",i).then(e=>{const t=e.data;this.softwares.push(t),Swal.fire("Buen trabajo! 游땎","Registro Exitoso! ","success")}).catch(e=>{console.error(e)}),this.close()}else Swal.fire({type:"error",title:"Oops...",text:"Campos no validados!"})},edit(){const i=this.editedItem,e=this.editedIndex,t=this.editedItem;axios.put(`/api/software/${this.softwares[e].id}`,i).then(a=>{Object.assign(this.softwares[e],t),Swal.fire("Buen trabajo!","Editado correctamente!","success"),this.close()}).catch(a=>{Swal.fire({type:"error",title:"Oops...",text:"Algo sali칩 mal!"})})},validate(){return this.$refs.form.validate()?!0:(console.log("fallo la validacion"),!1)},reset(){this.$refs.form.reset()},resetValidation(){this.$refs.form.resetValidation()}}};var l=function(){var e=this,t=e._self._c;return t("v-app",[t("v-breadcrumbs",{attrs:{items:e.items}}),t("v-card",[t("v-toolbar",{attrs:{dark:"",flat:""}},[t("v-btn",{attrs:{icon:""},on:{click:function(a){return e.$router.push({name:"project/main"})}}},[t("v-icon",[e._v("mdi-arrow-left")])],1),t("v-toolbar-title",[e._v("Software Desarrollados")]),t("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),t("div",{staticClass:"flex-grow-1"}),t("v-text-field",{attrs:{"max-width":"200","append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(a){e.search=a},expression:"search"}}),t("v-btn",{attrs:{icon:""},on:{click:function(a){e.dialog=!e.dialog}}},[t("v-icon",[e._v("mdi-plus-circle")])],1)],1),t("v-data-table",{staticClass:"elevation-1",attrs:{search:e.search,headers:e.headers,items:e.softwares},scopedSlots:e._u([{key:"item.action",fn:function({item:a}){return[t("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(s){return e.editItem(a)}}},[e._v(" mdi-pencil ")]),t("v-icon",{attrs:{small:""},on:{click:function(s){return e.deleteItem(a)}}},[e._v(" mdi-delete ")])]}},{key:"no-data",fn:function(){return[t("v-btn",{attrs:{color:"primary"},on:{click:e.initialize}},[e._v("Reset")])]},proxy:!0}])})],1),t("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.dialog,callback:function(a){e.dialog=a},expression:"dialog"}},[t("v-card",[t("v-toolbar",{attrs:{dark:""}},[t("v-btn",{attrs:{icon:"",dark:""},on:{click:function(a){e.dialog=!e.dialog}}},[t("v-icon",[e._v("mdi-close")])],1),t("v-toolbar-title",{staticClass:"headline"},[e._v(e._s(e.formTitle))]),t("div",{staticClass:"flex-grow-1"}),t("v-toolbar-items",[t("v-btn",{staticClass:"mr-4",attrs:{text:"",disabled:!e.valid},on:{click:e.validate}},[e._v(" Registrar ")])],1)],1),t("v-card-text",[t("v-container",{attrs:{fluid:""}},[t("v-form",{ref:"form",attrs:{"lazy-validation":e.lazy},model:{value:e.valid,callback:function(a){e.valid=a},expression:"valid"}},[t("v-row",[t("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[t("v-text-field",{attrs:{clearable:"",rules:e.titleRules,label:"Titulo",required:""},model:{value:e.editedItem.title,callback:function(a){e.$set(e.editedItem,"title",a)},expression:"editedItem.title"}})],1),t("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[t("v-text-field",{attrs:{clearable:"",rules:e.entityRules,label:"Entidad promotora",required:""},model:{value:e.editedItem.entity,callback:function(a){e.$set(e.editedItem,"entity",a)},expression:"editedItem.entity"}})],1),t("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[t("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":e.editedItem.year,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(a){return e.$set(e.editedItem,"year",a)},"update:return-value":function(a){return e.$set(e.editedItem,"year",a)}},scopedSlots:e._u([{key:"activator",fn:function({on:a}){return[t("v-text-field",e._g({attrs:{rules:e.yearRules,label:"Fecha",readonly:""},model:{value:e.editedItem.year,callback:function(s){e.$set(e.editedItem,"year",s)},expression:"editedItem.year"}},a))]}}]),model:{value:e.menu,callback:function(a){e.menu=a},expression:"menu"}},[t("v-date-picker",{attrs:{type:"month",locale:"es","no-title":"",scrollable:""},model:{value:e.editedItem.year,callback:function(a){e.$set(e.editedItem,"year",a)},expression:"editedItem.year"}},[t("div",{staticClass:"flex-grow-1"}),t("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(a){e.menu=!1}}},[e._v("Cancel")]),t("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(a){return e.$refs.menu.save(e.editedItem.year)}}},[e._v("OK")])],1)],1)],1),t("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[t("v-select",{attrs:{rules:e.stateRules,items:e.states,"menu-props":{top:!0,offsetY:!0},label:"Estado"},model:{value:e.editedItem.state,callback:function(a){e.$set(e.editedItem,"state",a)},expression:"editedItem.state"}})],1),t("v-col",{attrs:{cols:"12"}},[t("v-textarea",{attrs:{clearable:"",rules:e.descriptionRules,label:"Descripci칩n"},model:{value:e.editedItem.description,callback:function(a){e.$set(e.editedItem,"description",a)},expression:"editedItem.description"}})],1)],1)],1)],1)],1),t("v-card-actions",[t("div",{staticClass:"flex-grow-1"}),t("v-btn",{staticClass:"mr-4",attrs:{color:"warning"},on:{click:e.close}},[e._v(" Cancelar ")]),t("v-btn",{staticClass:"mr-4",attrs:{color:"error"},on:{click:e.reset}},[e._v(" Reiniciar ")]),t("v-btn",{staticClass:"mr-4",attrs:{disabled:!e.valid,color:"success"},on:{click:e.save}},[e._v(" Guardar ")])],1)],1)],1)],1)},n=[],d=r(o,l,n,!1,null,null);const u=d.exports;export{u as default};
