import{J as s}from"./Button-8hrt_dwt.js";import{J as a,a as n}from"./Label-BNNDC3dx.js";import{J as i,a as l}from"./InputError-Dx9YIMf4.js";import{J as m}from"./ActionMessage-C0uHe90t.js";import{J as c}from"./SecondaryButton-2z-8QQ4A.js";import{n as u}from"./_plugin-vue2_normalizer-p4i_2SC9.js";import"./SectionTitle-B1Xdl0zD.js";const p={components:{JetActionMessage:m,JetButton:s,JetFormSection:n,JetInput:l,JetInputError:i,JetLabel:a,JetSecondaryButton:c},props:["user"],data(){return{form:this.$inertia.form({_method:"PUT",name:this.user.name,email:this.user.email,photo:null},{bag:"updateProfileInformation",resetOnSuccess:!1}),photoPreview:null}},methods:{updateProfileInformation(){this.$refs.photo&&(this.form.photo=this.$refs.photo.files[0]),this.form.post(route("user-profile-information.update"),{preserveScroll:!0})},selectNewPhoto(){this.$refs.photo.click()},updatePhotoPreview(){const r=new FileReader;r.onload=e=>{this.photoPreview=e.target.result},r.readAsDataURL(this.$refs.photo.files[0])},deletePhoto(){this.$inertia.delete(route("current-user-photo.destroy"),{preserveScroll:!0}).then(()=>{this.photoPreview=null})}}};var f=function(){var e=this,t=e._self._c;return t("jet-form-section",{on:{submitted:e.updateProfileInformation},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" Profile Information ")]},proxy:!0},{key:"description",fn:function(){return[e._v(" Update your account's profile information and email address. ")]},proxy:!0},{key:"form",fn:function(){return[e.$page.jetstream.managesProfilePhotos?t("div",{staticClass:"col-span-6 sm:col-span-4"},[t("input",{ref:"photo",staticClass:"hidden",attrs:{type:"file"},on:{change:e.updatePhotoPreview}}),t("jet-label",{attrs:{for:"photo",value:"Photo"}}),t("div",{directives:[{name:"show",rawName:"v-show",value:!e.photoPreview,expression:"! photoPreview"}],staticClass:"mt-2"},[t("img",{staticClass:"rounded-full h-20 w-20 object-cover",attrs:{src:e.user.profile_photo_url,alt:"Current Profile Photo"}})]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.photoPreview,expression:"photoPreview"}],staticClass:"mt-2"},[t("span",{staticClass:"block rounded-full w-20 h-20",style:"background-size: cover; background-repeat: no-repeat; background-position: center center; background-image: url('"+e.photoPreview+"');"})]),t("jet-secondary-button",{staticClass:"mt-2 mr-2",attrs:{type:"button"},nativeOn:{click:function(o){return o.preventDefault(),e.selectNewPhoto.apply(null,arguments)}}},[e._v(" Select A New Photo ")]),e.user.profile_photo_path?t("jet-secondary-button",{staticClass:"mt-2",attrs:{type:"button"},nativeOn:{click:function(o){return o.preventDefault(),e.deletePhoto.apply(null,arguments)}}},[e._v(" Remove Photo ")]):e._e(),t("jet-input-error",{staticClass:"mt-2",attrs:{message:e.form.error("photo")}})],1):e._e(),t("div",{staticClass:"col-span-6 sm:col-span-4"},[t("jet-label",{attrs:{for:"name",value:"Name"}}),t("jet-input",{staticClass:"mt-1 block w-full",attrs:{id:"name",type:"text",autocomplete:"name"},model:{value:e.form.name,callback:function(o){e.$set(e.form,"name",o)},expression:"form.name"}}),t("jet-input-error",{staticClass:"mt-2",attrs:{message:e.form.error("name")}})],1),t("div",{staticClass:"col-span-6 sm:col-span-4"},[t("jet-label",{attrs:{for:"email",value:"Email"}}),t("jet-input",{staticClass:"mt-1 block w-full",attrs:{id:"email",type:"email"},model:{value:e.form.email,callback:function(o){e.$set(e.form,"email",o)},expression:"form.email"}}),t("jet-input-error",{staticClass:"mt-2",attrs:{message:e.form.error("email")}})],1)]},proxy:!0},{key:"actions",fn:function(){return[t("jet-action-message",{staticClass:"mr-3",attrs:{on:e.form.recentlySuccessful}},[e._v(" Saved. ")]),t("jet-button",{class:{"opacity-25":e.form.processing},attrs:{disabled:e.form.processing}},[e._v(" Save ")])]},proxy:!0}])})},d=[],h=u(p,f,d,!1,null,null);const C=h.exports;export{C as default};
