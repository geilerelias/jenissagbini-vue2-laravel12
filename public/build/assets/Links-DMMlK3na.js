import{n as l}from"./_plugin-vue2_normalizer-p4i_2SC9.js";const a={props:["link"],data(){return{valid:!0,dialog:!1,headers:[{text:"Enlace",value:"link"},{text:"Actions",value:"action",sortable:!1}],links:[],linkRules:[n=>!!n||"el enlace es requerido",n=>/^(http|https)/.test(n)||"el enlace no es valido"],editedIndex:-1,editedItem:{link:""},defaultItem:{link:""}}},mounted:function(){if(typeof this.link>"u"){console.log("undefined");return}this.links=this.link},methods:{editItem(n){this.editedIndex=this.links.indexOf(n),this.editedItem=Object.assign({},n),this.dialog=!0},deleteAllItem(){this.links=[]},deleteItem(n){const e=this.links.indexOf(n);Swal.fire({title:"¿Estás seguro?",text:"No podrás revertir esto!",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, eliminar!"}).then(t=>{t.value&&(this.links.splice(e,1),Swal.fire("Eliminada!","Su item ha sido eliminado.","success"))})},close(){this.dialog=!1,setTimeout(()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1},300)},save(){this.$refs.form.validate()&&(this.editedIndex>-1?(Object.assign(this.links[this.editedIndex],this.editedItem),this.$emit("addLink",this.links)):(this.links.push(this.editedItem),this.$emit("addLink",this.links)),this.close())}},watch:{dialog(n){n||this.close()}},computed:{formTitle(){return this.editedIndex===-1?"Nuevo enlace":"Editar enlace"},lengthLink(){return typeof this.link>"u"?(console.log("undefined"),0):this.link===null?0:(this.links=this.link,this.links.length)}}};var o=function(){var e=this,t=e._self._c;return t("div",[t("v-banner",{attrs:{"single-line":""},scopedSlots:e._u([{key:"actions",fn:function(){return[t("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function({on:i}){return[t("v-btn",e._g({attrs:{small:"",dark:""}},i),[t("v-icon",[e._v("mdi-link-plus")])],1)]}}]),model:{value:e.dialog,callback:function(i){e.dialog=i},expression:"dialog"}},[t("v-card",[t("v-card-title",[t("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),t("v-form",{ref:"form",attrs:{"lazy-validation":!0},on:{submit:function(i){return i.preventDefault(),e.save.apply(null,arguments)}},model:{value:e.valid,callback:function(i){e.valid=i},expression:"valid"}},[t("v-card-text",[t("v-container",[t("v-row",[t("v-col",{attrs:{cols:"12"}},[t("v-text-field",{attrs:{rules:e.linkRules,label:"Enlace"},model:{value:e.editedItem.link,callback:function(i){e.$set(e.editedItem,"link",i)},expression:"editedItem.link"}})],1)],1)],1)],1)],1),t("v-card-actions",[t("div",{staticClass:"flex-grow-1"}),t("v-btn",{attrs:{color:"warning"},on:{click:e.close}},[e._v("Cancel")]),t("v-btn",{attrs:{color:"success"},on:{click:e.save}},[e._v("Save")])],1)],1)],1)]},proxy:!0}])},[t("v-icon",{attrs:{icon:"mdi-lock",size:"40",color:"grey darken-1"}},[e._v(" mdi-link ")]),e._v(" Enlaces externos "),t("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}})],1),e.lengthLink!==0?t("v-data-table",{staticClass:"elevation-1 mt-3",attrs:{headers:e.headers,items:e.links,"sort-by":"calories"},scopedSlots:e._u([{key:"item.action",fn:function({item:i}){return[t("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(s){return e.editItem(i)}}},[e._v(" mdi-pencil ")]),t("v-icon",{attrs:{small:""},on:{click:function(s){return e.deleteItem(i)}}},[e._v(" mdi-delete ")])]}}],null,!1,2667981058)}):e._e()],1)},r=[],d=l(a,o,r,!1,null,"73b4e565");const u=d.exports;export{u as default};
